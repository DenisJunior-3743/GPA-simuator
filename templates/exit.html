{% extends 'base.html' %}
{% block content %}
  <div class="card" style="max-width:720px;margin:40px auto;padding:24px;text-align:center">
    <h1 class="h1">Goodbye</h1>
    <p class="lead">You've exited the simulator. Your session has been cleared.</p>
    <div style="display:flex;gap:8px;justify-content:center;margin-top:16px">
      <button class="cta" id="btn-close">Close Application</button>
      <a class="btn" href="/">Return to Home</a>
    </div>
    <script>
      document.getElementById('btn-close').addEventListener('click', function(){
        fetch('/shutdown', {method: 'POST'})
          .then(response => {
            setTimeout(() => {
              try { window.open('','_self').close(); } catch(e) { console.log('Cannot close'); }
              window.location.href = 'about:blank';
            }, 500);
          })
          .catch(err => console.error('Shutdown error:', err));
      });
    </script>
  </div>
{% endblock %}
